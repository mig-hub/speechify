// (c) 2009 - 2010 Mickael Riga - See MIT_LICENSE file for details
// Speechify.js version 2

;(function($){$.fn.speechify=function(c){var d={color:'white',backgroundColor:'black',padding:'5px',fontFamily:'sans-serif',fontSize:'11px',fontWeight:'normal','border-radius':'5px','-moz-border-radius':'5px','-webkit-border-radius':'5px',};var f=$.extend({},d,c);return this.each(function(){var b=$(this);if(b.attr('title')!=''){b.data('speech',this.title);this.title='';b.hover(function(e){$("body").append("<div id='speechify_wrapper'><div id='speechify'>"+b.data('speech')+"</div><div id='speechify_spike'></div></div>");$('#speechify_wrapper').css('position','absolute');var a=$('#speechify').css(f).css('border','0px');$('#speechify_spike').css({position:'relative',width:'0px',height:'0px',left:a.css('padding-left'),borderStyle:'solid',borderWidth:a.css('padding-left'),borderColor:a.css('background-color')+' transparent transparent transparent'})},function(){$("#speechify_wrapper").remove()});b.mousemove(function(e){var a=$('#speechify');$("#speechify_wrapper").css("bottom",($(window).height()-(b.offset().top))+"px").css("left",(e.pageX-parseInt(a.css('padding-left'))*2)+"px")});b.click(function(e){b.mouseout()})}})}$.speechify=function(a){$(function(){if($.fn.livequery){$('*[title]').livequery(function(){$(this).speechify(a)})}else{$('*[title]').each(function(){$(this).speechify(a)})}})}})(jQuery);